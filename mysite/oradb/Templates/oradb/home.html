<!DOCTYPE html>
{% load staticfiles %}
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{%static 'css/bootstrap.min.css'%}">
    <script type="text/javascript" src="{%static 'js/jquery-1.9.1.min.js'%}"></script>
    <script type="text/javascript" src="{%static 'js/vue.min.js'%}"></script>
    <title>home Page</title>
</head>
<body>
<!--<script type="text/javascript" src="{%static 'js/home.js'%}"></script>-->


<div style="margin-left: 100px ;margin-right: 100px">
    <table id="allData" class="table table-bordered">
        <caption>{{ msg }}</caption>
        <thead>
        <tr>
            <td>id</td>
            <td>ip_address</td>
            <td>port</td>
            <td>dbName</td>
            <td>username</td>
            <td>password</td>
            <!--<td>修改</td>-->
            <!--<td>查看链接状态</td>-->
        </tr>
        </thead>
        <thead id="data" >
        <!--{% for message in messages%}-->
        <tr v-for="site in data">
            <td>{{ site.id }}</td>
            <td>{{ site.ip_address }}</td>
            <td>{{ site.port }}</td>
            <td>{{ site.db_name }}</td>
            <td>{{ site.username }}</td>
            <td>{{ site.password }}</td>
            <!--<td><a href="{%url 'dbMessage' message.id%}">修改</a></td>-->
            <!--<td><a href="{%url 'testConn' message.id%}">测试</a></td>-->
        </tr>
        <!--{%endfor%}-->

        </thead>
    </table>
</div>

</body>
<script type="text/javascript">
    var ve = new Vue({
    el:'#allData',
    data:{
        data:'',
        msg:'cehsiyixai'
    },
    mounted(){
        this.getAllData()
    },
    methods:{
        getAllData:function () {
            $.ajax({
                type:'GET',
                url:'/oradb/jsondata/',
                dataType: 'json',
                cache:false,
                success:function (data) {
                    console.log(data)
                    ve.data= data;
                    console.log(ve.data)
                }
            })
        }
    }
})
    console.log("完了")
</script>
</html>